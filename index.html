<!DOCTYPE html>
<html lang="en-us">
  	<head>
		<meta charset="UTF-8">
		<title>con moto</title>
    		<meta name="viewport" content="width=device-width, initial-scale=1">
    		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>  
    		<link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    		<link href='https://fonts.googleapis.com/css?family=Varela+Round' rel='stylesheet' type='text/css'>
		<script src="scripts/tools.js"></script>
	</head>   
	<body>
		<h1>c o n  m o t o</h1>
     		<div id="sidebar"></div>
      		<div id="panels">
			<div id="playlist">
				<input title = "search" size=20 id="artist" name="artist"/>
				<button value="find" id="find" name="find">Find</button>
				<div id="results"> </div>
			</div>
     		 	<div id="interact">
        			<canvas id="canvas" width="928" height="550"></canvas>
      			</div>
      
    		</div>
   <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script> --> 
    <script>
      $('#sidebar').mouseover(function(){
          $('#playlist').animate({width: '31%'}, 500);
          $('#interact').animate({width: '66%'}, 500);
        });
      $('#playlist').mouseleave(function(){
          $('#playlist').animate({width: '0%'}, 500);
          $('#interact').animate({width: '97%'}, 500);
        });
      </script>
    <script src="scripts/jquery-1.12.0.min.js"></script>
    <script src="scripts/audio.js"></script>
  </body>
  <script type="text/javascript">

  jQuery.ajaxSettings.traditional = true;
  var config = getConfig();

  function getArtist(input, wandering, variety){
	var url = config.echoNestHost + '/api/v4/playlist/static';
	$("#results").empty();
	console.log("curating...");
	$.getJSON(url, {'artist': input,
			'api_key': config.apiKey,
			'bucket': ['id:' + config.spotifySpace, 'tracks'], 'limit':true, 'variety':1, 'results':10, type:'artist-radio', })
		.done(function(data){
			if( ! (songs in data.response)){
				console.log("whoopsies");
			} else {
				var title = "Results for" + input;
				var spotifyPlayButton = playListButton(title, data.response.songs);
				$("#results").append(spotifyPlayButton);
			}
		})
		.error( function() {
			console.log("bigger whoopsies!")
		});
  }
function newSearch(){
	var artist = $("#artist").val();
	getArtist(artist,false,.2);
}

function find(){
	$("#artist").on('keydown',function(evt) {
		if(evt.keyCode == 13) {
			newSearch();
		}
	});
	$("#find").on("click", function() {
		newSearch();
	});
}

$(document).ready(function() {
	find();
});
  </script>
</html>


