<!DOCTYPE html>
<html lang="en-us">  
  <head>
    <meta charset="UTF-8">
    <title>con moto</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Varela+Round' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.1.1/material.indigo-pink.min.css">
    <script src="scripts/tools.js"></script>
    <script defer src="https://code.getmdl.io/1.1.1/material.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script> 
    <script src="scripts/tools.js"></script>
  </head>

	<body>
		<h1>c o n  m o t o</h1>
     		<div id="sidebar"></div>
      		<div id="panels">
			<div id="playlist">
				<input title = "search" size=20 id="artist" name="artist"/>
				<button value="find" id="find" name="find">Find</button>
				<div id="results"> </div>
			</div>
     		 	<div id="interact">
		        	<div id="sliders">
            				<button id="play" onClick="playSound()">Play</button>
            				<button id="pause" onClick="pauseSound()">Pause</button>
            				<span> <input id="vol" class="mdl-slider mdl-js-slider" type="range" min="-100" max="100" value="0" tabindex="0" oninput="volume(this)"> </span>
            				<span> <input id="" class="mdl-slider mdl-js-slider" type="range" min="0" max="100" value="0" tabindex="0" oninput="changeVolume(this)"> </span>
            				<span> <input id=""class="mdl-slider mdl-js-slider" type="range" min="0" max="100" value="0" tabindex="0" oninput="changeVolume(this)"> </span>
            				<span> <input id="noise" class="mdl-slider mdl-js-slider" type="range" min="0" max="100" value="0" tabindex="0" oninput="volume(this)"> </span>
          			</div>
          			<canvas id="canvas" width="928" height="550"></canvas>
      			</div> 
    <script>
      $('#sidebar').mouseover(function(){
          $('#playlist').animate({width: '31%'}, 500);
          $('#interact').animate({width: '66%'}, 500);
        });
      $('#playlist').mouseleave(function(){
          $('#playlist').animate({width: '0%'}, 500);
          $('#interact').animate({width: '97%'}, 500);
        });
      </script>
    <script src="scripts/buffer-loader.js"></script>
    <script src="scripts/jquery-1.12.0.min.js"></script>
    <script src="scripts/audio.js"></script>
	  </body>
  <script type="text/javascript">

  jQuery.ajaxSettings.traditional = true;
  var config = getConfig();

  function getArtist(input, wandering, variety){
	var url = config.echoNestHost + '/api/v4/playlist/static';
	$("#results").empty();
	console.log("curating...");
	$.getJSON(url, {'artist': input,
			'api_key': config.apiKey,
			'bucket': ['id:' + config.spotifySpace, 'tracks'], 'limit':true, 'variety':1, 'results':10, type:'artist-radio', })
		.done(function(data){
			if( ! (songs in data.response)){
				console.log("whoopsies");
			} else {
				var title = "Results for" + input;
				var spotifyPlayButton = playListButton(title, data.response.songs);
				$("#results").append(spotifyPlayButton);
			}
		})
		.error( function() {
			console.log("bigger whoopsies!")
		});
  }
function newSearch(){
	var artist = $("#artist").val();
	getArtist(artist,false,.2);
}

function find(){
	$("#artist").on('keydown',function(evt) {
		if(evt.keyCode == 13) {
			newSearch();
		}
	});
	$("#find").on("click", function() {
		newSearch();
	});
}

$(document).ready(function() {
	find();
});
  </script>
</html>


